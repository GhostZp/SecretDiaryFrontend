import{f as b}from"./main-DP3VjRHo.js";document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector(".registerHabits");r.addEventListener("submit",async function(o){var d,c,s,i,l,m,h;o.preventDefault();const e=(d=localStorage.getItem("token"))==null?void 0:d.trim();if(!e){n("Error finding a valid token!");return}const a={entry_date:document.getElementById("entry_date").value||null,drank_water:!!((c=document.getElementById("drank_water"))!=null&&c.checked),exercised:!!((s=document.getElementById("exercised"))!=null&&s.checked),did_hobby:!!((i=document.getElementById("did_hobby"))!=null&&i.checked),spent_money:!!((l=document.getElementById("spent_money"))!=null&&l.checked),bad_habit:!!((m=document.getElementById("bad_habit"))!=null&&m.checked),drank_alcohol:!!((h=document.getElementById("drank_alcohol"))!=null&&h.checked)},u="http://localhost:3000/api/habits",y={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(a)};console.log("Sending habitData:",a);try{const t=await b(u,y);!t||t.error?n("Error: "+((t==null?void 0:t.error)||"Unknown error")):(n("Habit data saved successfully!"),r.reset())}catch(t){n("Network error: "+t.message)}});function n(o){const e=document.getElementById("snackbar");if(!e){console.error("Snackbar element not found!");return}e.textContent=o,e.classList.add("show"),setTimeout(()=>e.classList.remove("show"),3e3)}});
